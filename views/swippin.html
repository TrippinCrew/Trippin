{% extends 'layout.html' %} {% block title %}{% parent %}{% endblock %} {% block head %} {% parent %}
<link rel="stylesheet" type="text/css" href="appresource/jTinder-master/css/jTinder.css">
<link rel="stylesheet" type="text/css" href="appresource/css/swippin.css"> {% endblock %} {% block content%}
<!-- ADD CONTENT HERE -->
<div class="m-container">
    <div class="g-background-title m-center">
        <h1 class="g-trippin">Trippin'<span class="signout"></span></h1>
    </div>
    <!-- start padding container -->
    <div style="width: 500px; height:500px" id="content-holder">
        <div id="emu_cards">
            Cards
        </div>

        <button id="emu_dislike">dislike</button>
        <button id="emu_like">like</button>
    </div>
    <div class="wrap custom">
        <!-- start jtinder container -->

        <div id="tinderslide" class="tinderslide-custom">
            <ul>
                <li class="card" id="attr_id_1">
                    <div><img class="image" src="http://cdn.ek.aero/english/images/Phuket_tcm233-2256631.jpg"></div>
                    <div class="location">Marina Bay Sands</div>
                    <div class="place">
                        Singapore
                    </div>
                    <div class="description">
                        Nam dapibus nisl vitae elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa.
                    </div>
                    <div class="like"></div>
                    <div class="dislike"></div>
                </li>
                <li class="card" id="attr_id_2">
                    <div><img class="image" src="http://www.yoursingapore.com/see-do-singapore/recreation-leisure/resorts/marina-bay-sands/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg"></div>
                    <div class="location">Marina Bay Sands</div>
                    <div class="place">
                        Singapore
                    </div>
                    <div class="description">
                        Nam dapibus nisl vitae elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa.
                    </div>
                    <div class="like"></div>
                    <div class="dislike"></div>
                </li>
                <li class="card" id="attr_id_3">
                    <div><img class="image" src="http://cdn.rsvlts.com/wp-content/uploads/2013/10/Godafoss.jpg"></div>
                    <div class="location">Marina Bay Sands</div>
                    <div class="place">
                        Singapore
                    </div>
                    <div class="description">
                        Nam dapibus nisl vitae elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa.
                    </div>
                    <div class="like"></div>
                    <div class="dislike"></div>
                </li>
            </ul>
        </div>
        <!-- end jtinder container -->
    </div>
    <!-- end padding container -->
    <!-- <div class="background-card m-center">
    <img class="Image" src="http://cdn.ek.aero/english/images/Phuket_tcm233-2256631.jpg">
    <div class="location">
        Marina Bay Sands
    </div>
    <div class="place">
        Singapore
    </div>
    <div class="description">
        Nam dapibus nisl vitae elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa.
    </div>
</div> -->
    <div class="action-btn-holder t-center">
        <a id="dislike-btn" class="btn red dislike" href="javascript:void(0)"><span class="Times---FontAwesome"></span></a>
        <a class="btn blue" href="/preference"><span class="paper-plane---FontAwesome"></span></a>
        <a id="like-btn" class="btn green like" href="javascript:void(0)"><span class="Heart---FontAwesome"></span></a>
    </div>
    <button onclick="clearCards()">remove cards</button>
    <button onclick="checkCardsLeft()">cards left</button>
</div>
{% endblock %} {% block footer %} {% parent %} {% endblock %} {% block scripts %} {% parent %}
<!-- transform2d lib -->
<script type="text/javascript" src="appresource/jTinder-master/js/jquery.transform2d.js"></script>
<!-- jTinder lib -->
<script type="text/javascript" src="appresource/jTinder-master/js/jquery.jTinder.js"></script>
<!-- jTinder initialization script -->
<script type="text/javascript" src="appresource/script/destinationHackFunctions.js"></script>
<script>

// start emu 

$('#emu_dislike').click(function(){

});

$('#emu_like').click(function(){

});









// end emu

$("#dislike-btn").click(function() {
    $("#tinderslide").jTinder('dislike');
});

$("#like-btn").click(function() {
    $("#tinderslide").jTinder('like');

});


function populateCards() {
    cardHolder = $("#header ul");

}

var counter = 0;

/**
 * jTinder initialization
 */
$("#tinderslide").jTinder({
    // dislike callback
    onDislike: function(item) {
        // check cards left
        if (counter >= checkCardsLeft()) {
            clearCards();
            console.log("NO MORE CARDS LEFT; RELOAD");
            testPopulate();
        }
        $('#item[0].id').remove();
        console.log(item[0].id);
        counter++;
    },
    // like callback
    onLike: function(item) {
        // check cards left
        if (counter >= checkCardsLeft()) {
            clearCards();
            console.log("NO MORE CARDS LEFT; RELOAD");
            testPopulate();
            $("#tinderslide").jTinder();

        }
        $('#item[0].id').remove();
        console.log(item[0].id);
        counter++;
    },
    animationRevertSpeed: 200,
    animationSpeed: 400,
    threshold: 1,
    likeSelector: '.like',
    dislikeSelector: '.dislike'
});

/**
 * Set button action to trigger jTinder like & dislike.
 */
$('.actions .like, .actions .dislike').click(function(e) {
    e.preventDefault();
    $("#tinderslide").jTinder($(this).attr('class'));
});

function checkCardsLeft() {
    return $("#tinderslide ul li").length;
}
function checkCardsLeft() {
    console.log($(".card").length);
}

function clearCards() {
    $('.card').remove();
}

function testPopulate(){
    $("#header ul").append('<li class="card" id="attr_id_1">'+
        '<div><img class="image" src="http://cdn.ek.aero/english/images/Phuket_tcm233-2256631.jpg"></div>'+
        '<div class="location">Marina Bay Sands</div>' +
        '<div class="place">' +
            'Singapore' +
        '</div>' +
        '<div class="description">' +
            'Nam dapibus nisl vitae elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa.' +
        '</div>'+
        '<div class="like"></div>' +
        '<div class="dislike"></div>' +
    '</li>');

}
</script>
{% endblock %}
